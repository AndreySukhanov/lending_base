from sqlalchemy.orm import Session
from app.models.scenario import Scenario


INITIAL_SCENARIOS = [
    {
        "name": "Investigation",
        "name_ru": "Статья-расследование",
        "description": "Новостное издание собирает материалы на известную личность, пытается узнать секрет преумножения капитала",
        "order_index": 1,
        "beginning_template": """
Напиши захватывающий тизер (700-1000 символов) в стиле новостного расследования.

Структура:
- Интригующий заголовок в стиле журналистского расследования
- Короткое вступление: "Наша редакция получила информацию о..."
- Упомяни известную личность (придумай реалистичное имя для этой страны)
- Намекни на скандал: банки недовольны, власти пытаются замять
- Завершающий хук: "Подробности нашего расследования - ниже"

ВАЖНО: Максимально зацепи читателя! Это должно быть как начало сенсационной статьи.
        """,
        "middle_template": """
Напиши основную часть в формате журналистского расследования.

Структура статьи:
1. **Как мы вышли на след** (200-300 слов)
   - Опиши, как редакция узнала об этой личности
   - Необычные данные о быстром обогащении
   - Первые попытки связаться (отказы, уклончивые ответы)

2. **Биография героя** (300-400 слов)
   - Обычный человек из [страна]
   - Был в долгах / обычная работа
   - Резкий поворот в судьбе 2-3 года назад

3. **Встреча и интервью** (600-800 слов)
   - Удалось договориться о встрече
   - Диалоги: журналист задает вопросы, герой раскрывает секрет
   - Объяснение метода инвестирования (конкретная платформа/технология)
   - Почему это работает

4. **Реакция властей и банков** (300-400 слов)
   - Банки теряют клиентов
   - Попытки регулирования
   - Почему это угрожает системе
   - Герой: "Я просто хочу помочь обычным людям"

5. **Технические детали** (400-500 слов)
   - Как именно работает платформа
   - Почему доступна простым людям
   - Минимальные вложения
   - Процесс регистрации

СТИЛЬ: Серьезная журналистика с элементами сенсации. Используй цитаты, факты, детали.
        """,
        "end_template": """
Напиши завершающую часть расследования.

Структура:
1. **Проверка редакцией** (400-500 слов)
   - "Мы решили проверить информацию сами"
   - Главный редактор (придумай имя) зарегистрировался на платформе
   - Описание процесса регистрации
   - Первый вклад (укажи сумму в местной валюте)
   - Результаты через неделю/месяц
   - ВАЖНО: Добавь описание скриншота банковского поступления

2. **Истории обычных людей** (600-700 слов)
   - Представь 3-4 реальных людей из [страна]
   - Каждая история:
     * Имя, возраст, город
     * Проблемы до (долги, кредиты, низкая зарплата)
     * Как узнал о платформе
     * Сколько вложил
     * Конкретные результаты с суммами
     * ВАЖНО: Описание скриншота или фото с выводом средств
   - Разные уровни успеха (кто-то заработал немного, кто-то много)

3. **Блок отзывов** (500-600 слов)
   - 5-7 коротких отзывов от реальных людей
   - Формат каждого:
     * Имя, возраст (опционально город)
     * 2-3 предложения о результатах
     * Конкретная сумма заработка
     * Описание приложенного скриншота
   - Разный тон: восторженные, сдержанные, удивленные
   - Местные выражения и манера речи

4. **Заключение** (200-300 слов)
   - Вывод редакции: метод действительно работает
   - Призыв к действию: пока доступ открыт
   - Предупреждение: власти могут ограничить доступ
   - Ссылка на регистрацию

СТИЛЬ: Убедительное завершение с социальным доказательством и срочностью.
        """
    },
    {
        "name": "TalkShow",
        "name_ru": "Интервью на ток-шоу",
        "description": "Известная личность приходит на ток-шоу и рассказывает, что банки и правительство злятся, потому что это обогатит людей",
        "order_index": 2,
        "beginning_template": """
Напиши захватывающий тизер (700-1000 символов) в стиле анонса скандального ток-шоу.

Структура:
- Шокирующий заголовок: "[Имя] сделал заявление, которое взорвало студию!"
- Вступление: вчера вечером на популярном ток-шоу "[название]"
- Упомяни известного гостя (бизнесмен/инвестор из [страна])
- Интрига: заявление настолько шокировало, что...
- Конфликт: представители банков требуют удалить запись
- Хук: "Мы публикуем полную запись разговора - читайте, пока не удалили"

ВАЖНО: Создай ощущение скандала и запретного контента!
        """,
        "middle_template": """
Напиши текст в формате расшифровки ток-шоу с диалогами.

Структура:
1. **Приветствие и представление гостя** (200-300 слов)
   - Ведущий (придумай имя популярного ведущего для [страна])
   - Представление гостя: успешный бизнесмен/инвестор [имя]
   - Вступительная small talk
   - Ведущий: "Говорят, вы хотите рассказать что-то важное?"

2. **Основная история** (800-1000 слов)
   - ДИАЛОГИ между ведущим и гостем
   - Гость рассказывает свою историю:
     * Как начинал (обычная жизнь)
     * Открытие инвестиционного метода
     * Первые результаты
     * Решение поделиться с людьми
   - Ведущий задает уточняющие вопросы
   - Гость объясняет метод простым языком

3. **Конфликт с системой** (600-700 слов)
   - Гость: "Когда я начал рассказывать об этом..."
   - Описание давления со стороны банков
   - Попытки заставить замолчать
   - Ведущий: "Почему банки так боятся?"
   - Гость объясняет: банки теряют контроль, правительство теряет доходы
   - "Они не хотят, чтобы простые люди становились финансово независимыми"

4. **Реакция в студии** (300-400 слов)
   - Напряжение растет
   - Кто-то из продюсеров пытается прервать съемку
   - Ведущий: "Давайте дадим [имя гостя] договорить!"
   - Зрители в студии шокированы
   - Гость: "Я рискую многим, но люди должны знать правду"

5. **Детали метода** (500-600 слов)
   - Ведущий: "Расскажите подробнее, как это работает?"
   - Гость объясняет про платформу
   - Конкретные примеры и цифры
   - Доступность для обычных людей
   - Минимальный порог входа

СТИЛЬ: Динамичные диалоги, растущее напряжение, элементы драмы. Формат: "Ведущий: ...", "Гость: ..."
        """,
        "end_template": """
Напиши завершающую часть с проверкой и отзывами.

Структура:
1. **Послесловие редакции** (300-400 слов)
   - "После эфира этого выпуска..."
   - Давление на телеканал, попытки удалить запись
   - Решение проверить информацию
   - Наш продюсер [имя] попробовал платформу
   - Конкретные результаты
   - ВАЖНО: Описание скриншотов банковских поступлений

2. **Истории зрителей, которые попробовали** (600-700 слов)
   - "После того выпуска мы получили сотни сообщений"
   - 3-4 истории реальных людей:
     * Имя, возраст, род занятий
     * "Я смотрел тот выпуск и решил попробовать..."
     * Процесс регистрации и первый вклад
     * Результаты (конкретные суммы)
     * ВАЖНО: Описание скриншотов выводов
   - Разные профессии и ситуации

3. **Отзывы** (500-600 слов)
   - 6-8 отзывов от людей, которые посмотрели выпуск
   - Формат:
     * Имя, возраст
     * "После того выпуска я..."
     * Краткий результат с суммой
     * Благодарность гостю за смелость
     * Описание скриншота
   - Местный колорит и выражения

4. **Призыв к действию** (200-300 слов)
   - "Пока запись доступна..."
   - Информация может быть удалена
   - Шанс присоединиться, пока есть доступ
   - Предупреждение о возможных ограничениях
   - Ссылка на регистрацию

СТИЛЬ: Ощущение срочности, социальное доказательство, элемент запретности.
        """
    },
    {
        "name": "CanceledTalkShow",
        "name_ru": "Отменённое интервью на ток-шоу",
        "description": "Интервью с такой сенсацией, что в эфир не пошло, но доступно в текстовом формате на сайте",
        "order_index": 3,
        "beginning_template": """
Напиши шокирующий тизер (700-1000 символов) о запрещённом интервью.

Структура:
- СРОЧНО: "Интервью, которое НЕ ВЫШЛО В ЭФИР"
- Объяснение: известный гость [имя] пришел на шоу "[название]"
- Сенсация: он раскрыл информацию, которую запретили показывать
- Драма: запись конфискована, канал получил предупреждение
- НО: один из сотрудников сделал текстовую расшифровку
- "Читайте СРОЧНО - информация может быть удалена в любой момент!"

ВАЖНО: Максимальное ощущение запретности и эксклюзива!
        """,
        "middle_template": """
Напиши расшифровку "запрещенного" интервью.

Структура:
1. **Редакционное предупреждение** (150-200 слов)
   - "ВНИМАНИЕ: Эта информация была запрещена к публикации"
   - Объяснение: один из сотрудников записал разговор
   - Публикуем на свой риск
   - "Сохраните, пока не удалили"

2. **Начало интервью** (300-400 слов)
   - Обстановка: студия, камеры готовы к эфиру
   - Представление гостя: [имя], [статус]
   - Small talk
   - Ведущий: "Вы обещали раскрыть что-то важное?"
   - Гость: "Да, но я не уверен, что это выйдет в эфир..."

3. **Раскрытие информации** (800-1000 слов)
   - ДИАЛОГИ
   - Гость начинает рассказывать про метод обогащения
   - Называет конкретные цифры, которые "не должны быть озвучены публично"
   - Объясняет, почему это угроза для финансовой системы
   - Ведущий шокирован масштабом
   - Гость: "Банки знают об этом, но скрывают от людей"
   - Детальное объяснение механизма

4. **Прерывание эфира** (400-500 слов)
   - Напряжение растет
   - В студию врывается продюсер: "СТОП! Прекратите съемку!"
   - Гость: "Я еще не закончил!"
   - Короткий конфликт
   - Гость успевает сказать ключевую информацию
   - Описание: камеры выключают, запись конфискуют
   - "[Имя сотрудника]: К счастью, я успел записать основное..."

5. **Что говорил гость после выключения камер** (600-700 слов)
   - "Вот что гость сказал уже без камер:"
   - Более откровенный разговор
   - Конкретные инструкции: где, как, что делать
   - Предупреждения гостя
   - "Делайте быстро, пока не закрыли доступ"
   - Технические детали платформы

СТИЛЬ: Конспиративный тон, ощущение риска, срочность. Формат расшифровки с ремарками: [камеры выключены], [запись прервана] и т.д.
        """,
        "end_template": """
Напиши завершение с доказательствами и срочным призывом к действию.

Структура:
1. **Что случилось после** (300-400 слов)
   - Телеканал получил серьезное предупреждение
   - Запись конфискована
   - Гостю запретили появляться в СМИ
   - НО: "Мы проверили его слова..."
   - Наша команда зарегистрировалась на платформе
   - Результаты проверки (конкретные цифры)
   - ВАЖНО: Описания скриншотов банковских операций

2. **Свидетельства тех, кто успел** (600-700 слов)
   - "Сразу после записи того интервью несколько человек из команды..."
   - 3-4 истории людей, которые были в студии или узнали от знакомых:
     * Имя, роль (оператор, звукорежиссер, гость из зала)
     * "Я слышал разговор и сразу понял..."
     * Что сделали и какие результаты
     * Конкретные суммы
     * ВАЖНО: Описание скриншотов выводов
   - Ощущение эксклюзивности: "Мы узнали первыми"

3. **Отзывы инсайдеров** (400-500 слов)
   - 5-6 отзывов от людей, которые "были в теме"
   - Формат:
     * Имя (или псевдоним), связь с событием
     * "После той записи я..."
     * Краткие результаты
     * Благодарность гостю за смелость
     * Описание скриншота
   - Тон: "Успел до запрета", "Узнал первым", "Воспользовался инсайдом"

4. **Срочное предупреждение** (300-400 слов)
   - "ВАЖНО: Эта информация может быть удалена"
   - Скорее всего, доступ к платформе скоро ограничат
   - Власти уже в курсе
   - Окно возможностей закрывается
   - "Действуйте СЕЙЧАС, пока есть шанс"
   - Конкретные инструкции: что делать прямо сейчас
   - Ссылка на регистрацию

5. **Дисклеймер** (100-150 слов)
   - "Мы публикуем эту информацию на свой страх и риск"
   - Не знаем, как долго она будет доступна
   - Сохраните страницу, если хотите вернуться позже
   - "Но лучше действовать сейчас"

СТИЛЬ: Максимальная срочность, конспирология, FOMO, ощущение уникального шанса.
        """
    },
    {
        "name": "NewsInterview",
        "name_ru": "Интервью новостному изданию",
        "description": "Известная личность дала интервью изданию, чтобы рассказать обычным людям простой способ обогащения",
        "order_index": 4,
        "beginning_template": """
Напиши профессиональный тизер (700-1000 символов) в стиле крупного новостного издания.

Структура:
- Заголовок: "ЭКСКЛЮЗИВ: [Имя] впервые рассказывает о секрете своего успеха"
- Вступление: "Редакция [название издания] получила эксклюзивное интервью..."
- О герое: известный инвестор/бизнесмен из [страна], состояние [сумма]
- Интрига: "Впервые он решил раскрыть свой метод широкой публике"
- Почему сейчас: "Я хочу, чтобы обычные люди получили такой же шанс"
- Хук: "Читайте полное интервью ниже"

ВАЖНО: Серьезный, авторитетный тон крупного издания. Доверие и экспертность.
        """,
        "middle_template": """
Напиши интервью в классическом журналистском формате.

Структура:
1. **Вступительная часть от редакции** (200-300 слов)
   - Где проходило интервью (офис, ресторан в [город])
   - Первое впечатление о герое
   - Почему он согласился на интервью
   - "Он начал с неожиданного заявления..."

2. **О пути к успеху** (500-600 слов)
   - ФОРМАТ: Вопрос-Ответ
   - Журналист: "Расскажите о своем пути. Как все начиналось?"
   - Герой рассказывает биографию:
     * Обычное происхождение
     * Финансовые трудности
     * Поворотный момент
     * Открытие инвестиционного метода
   - 4-5 вопросов-ответов

3. **О методе инвестирования** (700-800 слов)
   - Журналист: "Что это за метод? Почему вы решили поделиться им?"
   - Герой объясняет:
     * Основные принципы
     * Почему это работает
     * Конкретная платформа/технология
     * Доступность для обычных людей
     * Минимальные вложения
   - Журналист задает уточняющие вопросы
   - Герой приводит примеры

4. **О рисках и гарантиях** (400-500 слов)
   - Журналист: "Насколько это безопасно?"
   - Герой честно говорит о рисках
   - Объясняет, как минимизировать
   - Почему он уверен в методе
   - Личные результаты (конкретные цифры)

5. **О реакции финансовых структур** (400-500 слов)
   - Журналист: "Как банки отнеслись к вашей деятельности?"
   - Герой рассказывает о давлении
   - Почему банки против
   - "Но я считаю, что люди имеют право знать"
   - Миссия: финансовая грамотность для всех

6. **Практические советы** (500-600 слов)
   - Журналист: "Что посоветуете нашим читателям?"
   - Герой дает конкретные инструкции:
     * С чего начать
     * Сколько вложить сначала
     * Как контролировать процесс
     * Распространенные ошибки
     * Реалистичные ожидания

СТИЛЬ: Профессиональное интервью в формате "Вопрос-Ответ". Авторитетный, доверительный тон.
        """,
        "end_template": """
Напиши завершение с проверкой метода и отзывами читателей.

Структура:
1. **Комментарий редакции** (400-500 слов)
   - "После публикации интервью мы решили проверить метод"
   - Наш экономический обозреватель [имя] протестировал платформу
   - Описание процесса:
     * Регистрация
     * Первый вклад (сумма)
     * Отслеживание результатов
   - Промежуточные и итоговые результаты
   - Вывод средств
   - ВАЖНО: Описание скриншотов банковских операций
   - Заключение: "Метод действительно работает"

2. **Отклики читателей** (600-700 слов)
   - "После публикации интервью мы получили тысячи откликов"
   - Представь 4-5 историй читателей:
     * ФИО, возраст, город, профессия
     * "Прочитал ваше интервью и решил попробовать..."
     * Их ситуация до (долги, проблемы)
     * Как применили метод
     * Конкретные результаты с суммами
     * Как изменилась жизнь
     * ВАЖНО: Описание скриншотов доказательств
   - Разные масштабы успеха (от скромных до впечатляющих)

3. **Отзывы** (500-600 слов)
   - 7-10 коротких отзывов от читателей
   - Формат:
     * Имя, возраст, город
     * "Спасибо за интервью!"
     * Краткая история (2-3 предложения)
     * Конкретные цифры заработка
     * Описание скриншота
   - Благодарности и издания, и герою интервью
   - Местный колорит

4. **Экспертные комментарии** (300-400 слов)
   - Мнение экономических экспертов
   - 2-3 эксперта комментируют метод:
     * Независимый финансовый аналитик
     * Преподаватель экономики
     * Бывший банковский сотрудник
   - Подтверждают работоспособность
   - Объясняют, почему банки против
   - "Метод законный и доступный"

5. **Заключение** (200-300 слов)
   - Итоги редакции
   - Метод проверен и подтвержден
   - Доступен для обычных людей
   - Рекомендация: начинать с малых сумм
   - Ссылка на платформу
   - "Финансовая независимость доступна каждому"

6. **Дисклеймер издания** (100-150 слов)
   - Стандартное предупреждение о рисках инвестирования
   - Рекомендация консультироваться со специалистами
   - "Инвестируйте ответственно"

СТИЛЬ: Серьезный, авторитетный тон крупного издания. Баланс между энтузиазмом и ответственностью.
        """
    }
]


def seed_scenarios(db: Session):
    """Seed initial scenarios into database."""
    for scenario_data in INITIAL_SCENARIOS:
        # Check if scenario already exists
        existing = db.query(Scenario).filter(
            Scenario.name == scenario_data["name"]
        ).first()

        if not existing:
            scenario = Scenario(**scenario_data)
            db.add(scenario)
            print(f"Created scenario: {scenario_data['name_ru']}")
        else:
            print(f"Scenario already exists: {scenario_data['name_ru']}")

    db.commit()
    print(f"\nSeeded {len(INITIAL_SCENARIOS)} scenarios successfully")


if __name__ == "__main__":
    from app.database import SessionLocal
    db = SessionLocal()
    try:
        seed_scenarios(db)
    finally:
        db.close()
